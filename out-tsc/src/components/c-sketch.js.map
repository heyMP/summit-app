{"version":3,"file":"c-sketch.js","sourceRoot":"","sources":["../../../src/components/c-sketch.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\nimport { LitElement, html, css } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { variable } from '../globals.js';\n\nexport class CSketch extends LitElement {\n\tstatic styles = css`\n    :host {\n      display: flex;\n\t\t\tposition: relative;\n    }\n\t\t#sketchpadapp {\n\t\t\t/* Prevent nearby text being highlighted when accidentally dragging mouse outside confines of the canvas */\n\t\t\t-webkit-touch-callout: none;\n\t\t\t-webkit-user-select: none;\n\t\t\t-khtml-user-select: none;\n\t\t\t-moz-user-select: none;\n\t\t\t-ms-user-select: none;\n\t\t\tuser-select: none;\n\t\t}\n\t\t#sketchpad {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tposition:relative; /* Necessary for correct mouse co-ords in Firefox */\n\t\t}\n  `;\n\n\tprotected firstUpdated(_changedProperties: Map<string | number | symbol, unknown>): void {\n\t\tthis.build();\n\t}\n\n\tpublic build() {\n\t\tvar _this = this;\n\t\t    // Variables for referencing the canvas and 2dcanvas context\n\t\t\t\tvar canvas,ctx;\n\n\t\t\t\t// Variables to keep track of the mouse position and left-button status \n\t\t\t\tvar mouseX,mouseY,mouseDown=0;\n\t\t\n\t\t\t\t// Draws a dot at a specific position on the supplied canvas name\n\t\t\t\t// Parameters are: A canvas context, the x position, the y position, the size of the dot\n\t\t\t\tfunction drawDot(ctx,x,y,size) {\n\t\t\t\t\t\t// Let's use black by setting RGB values to 0, and 255 alpha (completely opaque)\n\t\t\t\t\t\tvar r=0, g=0, b=0, a=255;\n\t\t\n\t\t\t\t\t\t// Select a fill style\n\t\t\t\t\t\tctx.fillStyle = \"rgba(\"+r+\",\"+g+\",\"+b+\",\"+(a/255)+\")\";\n\t\t\n\t\t\t\t\t\t// Draw a filled circle\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.arc(x, y, size, 0, Math.PI*2, true); \n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\tctx.fill();\n\t\t\t\t} \n\t\t\n\t\t\t\t// Clear the canvas context using the canvas width and height\n\t\t\t\tfunction clearCanvas(canvas,ctx) {\n\t\t\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t}\n\t\t\n\t\t\t\t// Keep track of the mouse button being pressed and draw a dot at current location\n\t\t\t\tfunction sketchpad_mouseDown() {\n\t\t\t\t\t\tmouseDown=1;\n\t\t\t\t\t\tdrawDot(ctx,mouseX,mouseY,12);\n\t\t\t\t}\n\t\t\n\t\t\t\t// Keep track of the mouse button being released\n\t\t\t\tfunction sketchpad_mouseUp() {\n\t\t\t\t\t\tmouseDown=0;\n\t\t\t\t}\n\t\t\n\t\t\t\t// Keep track of the mouse position and draw a dot if mouse button is currently pressed\n\t\t\t\tfunction sketchpad_mouseMove(e) { \n\t\t\t\t\t\t// Update the mouse co-ordinates when moved\n\t\t\t\t\t\tgetMousePos(e);\n\t\t\n\t\t\t\t\t\t// Draw a dot if the mouse button is currently being pressed\n\t\t\t\t\t\tif (mouseDown==1) {\n\t\t\t\t\t\t\t\tdrawDot(ctx,mouseX,mouseY,12);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// Get the current mouse position relative to the top-left of the canvas\n\t\t\t\tfunction getMousePos(e) {\n\t\t\t\t\t\tif (!e)\n\t\t\t\t\t\t\t\tvar e = event;\n\t\t\n\t\t\t\t\t\tif (e.offsetX) {\n\t\t\t\t\t\t\t\tmouseX = e.offsetX;\n\t\t\t\t\t\t\t\tmouseY = e.offsetY;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (e.layerX) {\n\t\t\t\t\t\t\t\tmouseX = e.layerX;\n\t\t\t\t\t\t\t\tmouseY = e.layerY;\n\t\t\t\t\t\t}\n\t\t\t\t }\n\t\t\n\t\t\n\t\t\t\t// Set-up the canvas and add our event handlers after the page has loaded\n\t\t\t\tfunction init() {\n\t\t\t\t\t\t// Get the specific canvas element from the HTML document\n\t\t\t\t\t\tcanvas = _this.shadowRoot?.getElementById('sketchpad');\n\t\t\n\t\t\t\t\t\t// If the browser supports the canvas tag, get the 2d drawing context for this canvas\n\t\t\t\t\t\tif (canvas.getContext)\n\t\t\t\t\t\t\t\tctx = canvas.getContext('2d');\n\t\t\n\t\t\t\t\t\t// Check that we have a valid context to draw on/with before adding event handlers\n\t\t\t\t\t\tif (ctx) {\n\t\t\t\t\t\t\t\tcanvas.addEventListener('mousedown', sketchpad_mouseDown, false);\n\t\t\t\t\t\t\t\tcanvas.addEventListener('mousemove', sketchpad_mouseMove, false);\n\t\t\t\t\t\t\t\twindow.addEventListener('mouseup', sketchpad_mouseUp, false);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\tinit();\n\t}\n\n\trender() {\n\t\treturn html`\n\t\t\t<div class=\"base\" part=\"base\">\n\t\t\t\t<canvas id=\"sketchpad\" height=\"300\" width=\"400\">\n\t\t\t\t</canvas>\n\t\t\t</div>\n    `;\n\t}\n}\n\ncustomElements.define('c-sketch', CSketch);\n"]}